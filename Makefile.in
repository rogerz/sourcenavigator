#
# This file is the toplevel Makefile for Source-Navigator.  If it has the
# name "Makefile.in" then it is a template for a Makefile; to generate
# the actual Makefile, run "./configure", which is a configuration
# script generated by the "autoconf" program (constructs like
# "@foo@" will get replaced in the actual Makefile.
#
# RCS: $Id$

# Default top-level directories in which to install architecture-
# specific files (exec_prefix) and machine-independent files such
# as scripts (prefix).  The values specified here may be overridden
# at configure-time with the --exec-prefix and --prefix options
# to the "configure" script.

prefix =	@prefix@
exec_prefix =	@exec_prefix@

subdirs =	@TOP_SUBDIRS@

# Some versions of make, like SGI's, use the following variable to
# determine which shell to use for executing commands:
SHELL =		/bin/sh

all:
	for dir in $(subdirs) ; do \
		if test -d $$dir ; then \
		    echo "$$dir: $(MAKE) $@" ;\
		    if (cd $$dir; $(MAKE) $@) ; then true ; else exit 1 ; fi ; \
		else \
		    exit 1; \
		fi \
	done;

install:
	for dir in $(subdirs) ; do \
		if test -d $$dir ; then \
		    echo "$$dir: $(MAKE) $@" ;\
		    if (cd $$dir; $(MAKE) $@) ; then true ; else exit 1 ; fi ; \
		else \
		    exit 1; \
		fi \
	done;

clean:
	for dir in $(subdirs) ; do \
		if test -d $$dir ; then \
		    echo "$$dir: $(MAKE) $@" ;\
		    if (cd $$dir; $(MAKE) $@) ; then true ; else exit 1 ; fi ; \
		else \
		    exit 1; \
		fi \
	done;

distclean:
	rm -f Makefile config.log config.status config.cache
	for dir in $(subdirs) ; do \
		if test -d $$dir ; then \
		    echo "$$dir: $(MAKE) $@" ;\
		    if (cd $$dir; $(MAKE) $@) ; then true ; else exit 1 ; fi ; \
		else \
		    exit 1; \
		fi \
	done;
